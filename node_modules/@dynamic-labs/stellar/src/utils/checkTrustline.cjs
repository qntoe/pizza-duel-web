'use client'
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

/**
 * Checks if an account has a trustline for a specific asset.
 *
 * @param account - The Horizon account response
 * @param asset - The asset to check for trustline
 * @returns True if the account has a trustline for the asset, false otherwise
 */
const checkTrustline = (account, asset) => {
    // Native asset (XLM) doesn't require a trustline
    if (asset.isNative()) {
        return true;
    }
    // Check if the account has a balance for this asset
    const assetCode = asset.getCode();
    const assetIssuer = asset.getIssuer();
    return account.balances.some((balance) => {
        if (balance.asset_type === 'native') {
            return false;
        }
        if (balance.asset_type === 'credit_alphanum4' ||
            balance.asset_type === 'credit_alphanum12') {
            return (balance.asset_code === assetCode && balance.asset_issuer === assetIssuer);
        }
        return false;
    });
};

exports.checkTrustline = checkTrustline;
