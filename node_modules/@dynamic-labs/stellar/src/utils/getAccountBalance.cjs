'use client'
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

/**
 * Gets the balance for a specific asset from a Stellar account.
 *
 * @param account - The Horizon account object
 * @param assetCode - Optional asset code. If not provided, returns native XLM balance
 * @param assetIssuer - Optional asset issuer. Required if assetCode is provided
 * @returns The balance as a string
 * @throws Error if assetCode is provided without assetIssuer
 */
const getAccountBalance = (account, assetCode, assetIssuer) => {
    if (!assetCode) {
        const nativeBalance = account.balances.find((balance) => balance.asset_type === 'native');
        return nativeBalance && 'balance' in nativeBalance
            ? nativeBalance.balance
            : '0';
    }
    if (!assetIssuer) {
        throw new Error('Asset issuer is required when asset code is provided');
    }
    const assetBalance = account.balances.find((balance) => balance.asset_type !== 'native' &&
        'asset_code' in balance &&
        'asset_issuer' in balance &&
        balance.asset_code === assetCode &&
        balance.asset_issuer === assetIssuer);
    return assetBalance && 'balance' in assetBalance ? assetBalance.balance : '0';
};

exports.getAccountBalance = getAccountBalance;
