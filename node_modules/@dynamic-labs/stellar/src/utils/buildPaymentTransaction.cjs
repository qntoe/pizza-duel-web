'use client'
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var stellarSdk = require('@stellar/stellar-sdk');

const DEFAULT_TIMEOUT = 180;
/**
 * Builds a Stellar payment transaction.
 *
 * @param params - Transaction parameters
 * @param params.sourceAccount - The source account
 * @param params.networkPassphrase - The network passphrase
 * @param params.toAddress - Recipient address
 * @param params.amount - Amount to send
 * @param params.asset - Asset to send
 * @param params.memo - Optional transaction memo
 * @returns A built Stellar transaction
 */
const buildPaymentTransaction = (params) => {
    const { sourceAccount, networkPassphrase, toAddress, amount, asset, memo } = params;
    const transactionBuilder = new stellarSdk.TransactionBuilder(sourceAccount, {
        fee: stellarSdk.BASE_FEE,
        networkPassphrase,
    }).addOperation(stellarSdk.Operation.payment({
        amount,
        asset,
        destination: toAddress,
    }));
    if (memo) {
        transactionBuilder.addMemo(memo);
    }
    return transactionBuilder.setTimeout(DEFAULT_TIMEOUT).build();
};

exports.buildPaymentTransaction = buildPaymentTransaction;
